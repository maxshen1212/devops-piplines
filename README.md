# DevOps Pipeline æ•™å­¸å°ˆæ¡ˆ ğŸš€

> å¾é›¶é–‹å§‹å­¸ç¿’ï¼šAWS ECS + S3/CloudFront + GitHub Actions CI/CD

## ğŸ“Œ å°ˆæ¡ˆç›®æ¨™

é€™å€‹å°ˆæ¡ˆæ•™ä½ å¦‚ä½•å»ºç«‹ä¸€å€‹å®Œæ•´çš„ DevOps æµæ°´ç·šï¼š

```
Git Push â†’ GitHub Actions â†’ è‡ªå‹•éƒ¨ç½²åˆ° AWS â†’ ğŸ‰ ä¸Šç·šï¼
```

## ğŸ—ï¸ æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GitHub Repository                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ Git Push
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â–¼                         â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Backend CI/CD   â”‚      â”‚ Frontend Deploy â”‚
   â”‚ (ECS)           â”‚      â”‚ (S3+CloudFront) â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                        â”‚
            â–¼                        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ECR â†’ ECS       â”‚      â”‚ S3 â†’ CloudFront â”‚
   â”‚ (Container)     â”‚      â”‚ (Static Files)  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ RDS MySQL       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š å­¸ç¿’æ–‡æª”

| æ–‡æª”                                                             | å…§å®¹                      | ä½•æ™‚ä½¿ç”¨          |
| ---------------------------------------------------------------- | ------------------------- | ----------------- |
| [AWS_CHEAT_SHEET.md](./AWS_CHEAT_SHEET.md)                       | æ‰€æœ‰ AWS è³‡æºå‰µå»ºæ­¥é©Ÿ     | é¦–æ¬¡è¨­ç½® AWS ç’°å¢ƒ |
| [GITHUB_ACTIONS_CHEAT_SHEET.md](./GITHUB_ACTIONS_CHEAT_SHEET.md) | GitHub Actions CI/CD è¨­ç½® | è¨­ç½®è‡ªå‹•éƒ¨ç½²      |

## ğŸ› ï¸ æœ¬åœ°é–‹ç™¼

### å‰ç½®éœ€æ±‚

- Docker Desktop
- Node.js 20+
- AWS CLIï¼ˆå·²é…ç½®ï¼‰

### å•Ÿå‹•æœ¬åœ°ç’°å¢ƒ

```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™ï¼ˆMySQL + Backend + Frontendï¼‰
docker compose up -d

# æŸ¥çœ‹æ—¥èªŒ
docker compose logs -f

# åœæ­¢æœå‹™
docker compose down
```

### è¨ªå•æœå‹™

| æœå‹™         | URL                          |
| ------------ | ---------------------------- |
| Frontend     | http://localhost:5173        |
| Backend API  | http://localhost:3000        |
| Health Check | http://localhost:3000/health |

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
devops-piplines/
â”œâ”€â”€ backend/                 # Node.js + TypeScript API
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Dockerfile          # ç”Ÿç”¢ç’°å¢ƒ Dockerfile
â”‚   â””â”€â”€ Dockerfile.dev      # é–‹ç™¼ç’°å¢ƒ Dockerfile
â”œâ”€â”€ frontend/               # React + Vite
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ Dockerfile.dev
â”œâ”€â”€ .github/workflows/      # GitHub Actions
â”‚   â”œâ”€â”€ backend-ci-cd.yml   # Backend è‡ªå‹•éƒ¨ç½²
â”‚   â””â”€â”€ frontend-deploy.yml # Frontend è‡ªå‹•éƒ¨ç½²
â””â”€â”€ docker-compose.yaml     # æœ¬åœ°é–‹ç™¼ç’°å¢ƒ
```

## ğŸ¯ å­¸ç¿’è·¯å¾‘

### Step 1: ç†è§£æœ¬åœ°é–‹ç™¼

1. é–±è®€ `docker-compose.yaml`
2. åŸ·è¡Œ `docker compose up -d`
3. æ¸¬è©¦ API: `curl http://localhost:3000/health`

### Step 2: è¨­ç½® AWS åŸºç¤è¨­æ–½

1. é–±è®€ [AWS_CHEAT_SHEET.md](./AWS_CHEAT_SHEET.md)
2. æŒ‰é †åºå‰µå»ºæ‰€æœ‰ AWS è³‡æº
3. æ‰‹å‹•éƒ¨ç½²ä¸€æ¬¡ç¢ºèªå¯ç”¨

### Step 3: è¨­ç½® CI/CD

1. é–±è®€ [GITHUB_ACTIONS_CHEAT_SHEET.md](./GITHUB_ACTIONS_CHEAT_SHEET.md)
2. é…ç½® GitHub Actions
3. Push ä»£ç¢¼æ¸¬è©¦è‡ªå‹•éƒ¨ç½²

## âœ… å®Œæˆæ¨™æº–

ç•¶ä½ å®Œæˆæ‰€æœ‰è¨­ç½®å¾Œï¼š

- [ ] `git push` å¾Œ Backend è‡ªå‹•éƒ¨ç½²åˆ° ECS
- [ ] `git push` å¾Œ Frontend è‡ªå‹•éƒ¨ç½²åˆ° S3/CloudFront
- [ ] ALB ç«¯é»è¿”å› `{"status":"ok"}`
- [ ] CloudFront URL å¯è¨ªå• React App

---

**æœ‰å•é¡Œï¼Ÿ** è«‹åƒè€ƒå„å€‹ Cheat Sheet çš„æ•…éšœæ’æŸ¥éƒ¨åˆ†ã€‚
